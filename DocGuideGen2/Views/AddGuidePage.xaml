<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="DocGuideGen2.Views.AddGuidePage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Add Guide">

    <Grid>
        <Grid.RowDefinitions>
            <!--  Cabeçalho fixo  -->
            <RowDefinition Height="Auto" />
            <!--  Área com os inputs  -->
            <RowDefinition Height="*" />
            <!--  Área dos botões  -->
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!--  Cabeçalho da página  -->
        <Label
            Padding="10"
            FontSize="20"
            HorizontalOptions="Center"
            Text="Adicionar Guia"
            VerticalOptions="Start" />

        <!--  Área de inputs com scroll  -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout
                Padding="20"
                HorizontalOptions="Center"
                Spacing="20"
                VerticalOptions="CenterAndExpand">

                <!--  Input para o nome do guia  -->
                <VerticalStackLayout Spacing="2">
                    <Label HorizontalOptions="Start" Text="Digite o nome do Guia/Assistente" />
                    <Entry
                        x:Name="NameEntry"
                        HorizontalOptions="Start"
                        Placeholder="Nome"
                        TextChanged="OnEntryTextChanged"
                        WidthRequest="300" />
                </VerticalStackLayout>

                <!--  Input para o registro do guia  -->
                <VerticalStackLayout Spacing="2">
                    <Label HorizontalOptions="Start" Text="Digite o registro do Guia/Assistente:" />
                    <Entry
                        x:Name="RegistryEntry"
                        HorizontalOptions="Start"
                        Placeholder="Registro"
                        TextChanged="OnEntryTextChanged"
                        WidthRequest="300" />
                </VerticalStackLayout>

                <!--  Input para o RUT do guia  -->
                <VerticalStackLayout Spacing="2">
                    <Label HorizontalOptions="Start" Text="Digite o RUT do Guia/Assistente:" />
                    <Entry
                        x:Name="RutEntry"
                        HorizontalOptions="Start"
                        Placeholder="RUT"
                        TextChanged="OnEntryTextChanged"
                        WidthRequest="300" />
                </VerticalStackLayout>

                <!--  Opções de escolha (Guia / Assistente) usando RadioButton  -->
                <VerticalStackLayout Spacing="2">
                    <Label HorizontalOptions="Start" Text="Escolha uma opção:" />
                    <HorizontalStackLayout HorizontalOptions="Center" Spacing="20">
                        <RadioButton
                            x:Name="GuideRadioButton"
                            CheckedChanged="OnRadioButtonCheckedChanged"
                            Content="Guia"
                            GroupName="RoleGroup"
                            IsChecked="False"
                            Value="Guia" />
                        <RadioButton
                            x:Name="AssistantRadioButton"
                            CheckedChanged="OnRadioButtonCheckedChanged"
                            Content="Assistente de Guia"
                            GroupName="RoleGroup"
                            IsChecked="False"
                            Value="Assistente" />
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </VerticalStackLayout>
        </ScrollView>

        <!--  Área dos botões  -->
        <HorizontalStackLayout
            Grid.Row="2"
            Padding="10"
            HorizontalOptions="Center"
            Spacing="20">
            <!--  Botão Fechar  -->
            <Button
                BackgroundColor="Gray"
                Clicked="OnCloseClicked"
                Text="Fechar"
                TextColor="White">
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="Gray" />
                                <Setter Property="TextColor" Value="White" />
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="PointerOver">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="Red" />
                                <Setter Property="TextColor" Value="Black" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
            </Button>

            <!--  Botão Confirm desativado inicialmente  -->
            <Button
                x:Name="ConfirmButton"
                Clicked="OnConfirmClicked"
                IsEnabled="False"
                Text="Confirm" />
        </HorizontalStackLayout>
    </Grid>
</ContentPage>
